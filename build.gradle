apply plugin: 'application'
apply plugin: 'eclipse'

mainClassName = 'inlocomedia.BSONSplitter'

repositories {
  mavenCentral()
}

sourceSets {
  main {
    java {
      srcDir 'src/'
    }

    resources {
      srcDir 'resources/'
    }

    test {
      java {
        srcDir 'test/'
      }
    }
  }
}

dependencies {
  sourceCompatibility = 1.7
  targetCompatibility = 1.7

  compile ( 
    [group: 'org.mongodb', name: 'mongo-java-driver', version: '2.11.4'],
  )

  testCompile (
    [group: 'junit', name: 'junit', version: '4.11'],
  )
}

jar {
  archiveName "bson_splitter.jar"
  from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
  manifest { attributes 'Main-Class': mainClassName }
  destinationDir file('build/lib')      
}
